<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css">
    <title>Home</title>
    <!-- DATABASE CONNECTION DON'T TOUCH -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script>
    console.log("STARTING DB CONNECTION");
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyB9PV7cvxg6wblks33WezXvmHkUbo9cPno",
        authDomain: "goal-master-93ae0.firebaseapp.com",
        projectId: "goal-master-93ae0",
        storageBucket: "goal-master-93ae0.appspot.com",
        messagingSenderId: "793578125991",
        appId: "1:793578125991:web:34e09bfa84476011db7982"
    };

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    console.log("INITIALIZED FIREBASE");

    function userSignIn(email, password){
      app.auth().signInWithEmailAndPassword(email, password)
      .then((userCredential) => {
          // Signed in
          console.log("Sign In Success!");
          window.location.href="../app/profile.html"
      })
      .catch((error) => {
        errPgrph = document.getElementById('error');
        errPgrph.innerHTML = error.message;
      })
    }

    // firebase user authentication 
        
    </script>

</head>   
<body>

  <h1 id="login-header">Master Goal Manager Login</h1>
  
  <p id="error"></p>
  
  <input type="text" name="email" id="emailField" class="loginFormField" placeholder="E-Mail">
  <input type="password" name="password" id="password" class="loginFormField" placeholder="Password">
  <button id="submit" onclick="userSignIn(document.getElementById('emailField').value, document.getElementById('password').value)">Login</button>
  <button id="login" onclick="window.location.href = './signup.html'">Create Account</button>
      

</body>
</html>